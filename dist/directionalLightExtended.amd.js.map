{"version":3,"file":"directionalLightExtended.amd.js","sources":["../src/DirectionalLightExtended.module.js"],"sourcesContent":["import * as THREE from \"../node_modules/three/build/three.module.js\";\n\nconst DirectionalLightExtended = function( opts ){\n\n    THREE.DirectionalLight.call( this ); \n\n    const defaults = {\n        castShadow: true,\n        shadow: {\n            camera:{\n                near: 0.01,\n                far: 15,\n                fov: 45,\n            },\n            mapSize:{\n                width: 1024,\n                height: 1024\n            },\n            bias: 0\n        }\n    };\n\n    this.options = Object.assign( {}, defaults, opts );\n    let color    = typeof opts.color === \"string\" ? new THREE.Color( opts.color ) : opts.color;\n\n    this.color\t\t= color;\n    this.intensity\t= opts.intensity;\n\n    // States and helpers\n    this.state = {\n        intensity: this.intensity\n    };\n\n    this.shadowCameraHelper = null;\n\n};\n\nDirectionalLightExtended.prototype = Object.assign( Object.create( THREE.DirectionalLight.prototype ), {\n    constructor : DirectionalLightExtended,\n\n    enableShadow : function( ){\n\n        this.castShadow\t= this.options.castShadow;\n        this.shadow.camera.near\t= this.options.shadow.camera.near;\n        this.shadow.camera.far\t= this.options.shadow.camera.far;\n        this.shadow.camera.fov\t= this.options.shadow.camera.fov;\n\n        this.shadow.mapSize.width\t= this.options.shadow.mapSize.width;\n        this.shadow.mapSize.height\t= this.options.shadow.mapSize.height;\n\n        this.shadow.bias = this.options.shadow.bias;\n    },\n\n    toggle: function(){\n        this.visible = !this.visible;\n    },\n\n    turnOff: function(){\n        this.state.intensity = this.intensity;\n        this.intensity = 0;\n        this.visible = false;\n\n        if ( this.shadowCameraHelper ){\n            this.shadowCameraHelper.visible = false;\n        }\n    },\n\n    turnOn: function(){\n       this.intensity =  this.state.intensity;\n       this.visible = true;\n\n       if ( this.shadowCameraHelper ){\n        this.shadowCameraHelper.visible = true;\n       }\n    },\n\n    addHelpersToScene: function( scene ){\n\n        this.shadowCameraHelper = new THREE.CameraHelper( this.shadow.camera );\n\n        scene.add( this.target );\n        scene.add( this.shadowCameraHelper );\n\n    }\n\n});\n\nexport default DirectionalLightExtended;\n"],"names":["THREE.DirectionalLight","THREE.Color","THREE.CameraHelper"],"mappings":"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"}