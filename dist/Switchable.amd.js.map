{"version":3,"file":"Switchable.amd.js","sources":["../src/Switchable.module.js"],"sourcesContent":["// 6.2.21 Boban J.\nimport * as THREE from \"../../node_modules/three/build/three.module.js\";\n\n\nconst Switchable = {\n\n    interface: {\n        initSwitchable : function( opts ){\n            // console.log(\"Opts: \", opts );\n            this.states  = this.states || {};\n            \n            let defaults = {\n                castShadow: true,\n                shadow: {\n                    camera:{\n                        near: 0.01,\n                        far: 15,\n                        fov: 45,\n                    },\n                    mapSize:{\n                        width: 1024,\n                        height: 1024\n                    },\n                    bias: 0\n                }\n            };\n    \n            this.options = Object.assign( {}, defaults, opts );\n            Object.assign( this.states, { intensity: this.intensity, active: true })\n        },\n    \n        getInfo: function(){\n            console.log( \"interface - switchable: \", this );\n        },\n    \n        turnOn: function(){\n            \n            if ( this.states.active ) return;\n    \n            this.intensity  = this.states.intensity;\n            this.visible    = true;\n            this.states.active = true;\n            console.log( \"Lights on!\");\n    \n            if ( this.shadowCameraHelper ){\n             this.shadowCameraHelper.visible = true;\n            }\n        },\n    \n        turnOff: function(){\n    \n            if ( !this.states.active ) return;\n    \n            this.states.intensity = this.intensity;\n            this.intensity = 0;\n            this.visible = false;\n            this.states.active = false;\n            console.log( \"Lights off!\");\n    \n            \n            if ( this.shadowCameraHelper ){\n                this.shadowCameraHelper.visible = false;\n            }\n        },\n        \n        toggle: function(){\n            if ( this.states.active ){\n                this.turnOff();\n            } \n            else {\n                this.turnOn();\n            }\n        },\n    \n        setShadow : function( opts ){\n    \n            let opt = Object.assign( {}, this.options, opts );\n            this.shadow.camera.near\t= opt.shadow.camera.near;\n            this.shadow.camera.far\t= opt.shadow.camera.far;\n            this.shadow.camera.fov\t= opt.shadow.camera.fov;\n    \n            this.shadow.mapSize.width\t= opt.shadow.mapSize.width;\n            this.shadow.mapSize.height\t= opt.shadow.mapSize.height;\n            this.shadow.bias = opt.shadow.bias;\n            \n        },\n    \n        enableShadow: function(){\n            this.castShadow\t= true;\n        },\n    \n        disableShadow: function(){\n            this.castShadow\t= false;\n        },\n    \n        addHelpersToScene: function( scene ){\n    \n            this.shadowCameraHelper = new THREE.CameraHelper( this.shadow.camera );\n    \n            if ( this.target ) scene.add( this.target );\n            scene.add( this.shadowCameraHelper );\n    \n        }\n    },\n\n    implement: function( instance ){\n        Object.assign( instance, Switchable.interface );\n        instance.initSwitchable();\n    }\n}\n\nexport {Switchable};\nexport default Switchable;"],"names":["THREE.CameraHelper"],"mappings":"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"}